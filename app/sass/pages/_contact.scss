
/* ===========================================
 * Contact page
 * =========================================== */

/* Specific rule for a page
 * ==================================== */

.map-address {

  background-color: $secondary-color;
  background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDQiIGhlaWdodD0iNDQiIHZpZXdCb3g9IjAgMCA0NCA0NCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBzdHJva2U9IiNmZmZmZmYiPiAgICA8ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHN0cm9rZS13aWR0aD0iMiI+ICAgICAgICA8Y2lyY2xlIGN4PSIyMiIgY3k9IjIyIiByPSIxIj4gICAgICAgICAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJyIiAgICAgICAgICAgICAgICBiZWdpbj0iMHMiIGR1cj0iMS44cyIgICAgICAgICAgICAgICAgdmFsdWVzPSIxOyAyMCIgICAgICAgICAgICAgICAgY2FsY01vZGU9InNwbGluZSIgICAgICAgICAgICAgICAga2V5VGltZXM9IjA7IDEiICAgICAgICAgICAgICAgIGtleVNwbGluZXM9IjAuMTY1LCAwLjg0LCAwLjQ0LCAxIiAgICAgICAgICAgICAgICByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgLz4gICAgICAgICAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJzdHJva2Utb3BhY2l0eSIgICAgICAgICAgICAgICAgYmVnaW49IjBzIiBkdXI9IjEuOHMiICAgICAgICAgICAgICAgIHZhbHVlcz0iMTsgMCIgICAgICAgICAgICAgICAgY2FsY01vZGU9InNwbGluZSIgICAgICAgICAgICAgICAga2V5VGltZXM9IjA7IDEiICAgICAgICAgICAgICAgIGtleVNwbGluZXM9IjAuMywgMC42MSwgMC4zNTUsIDEiICAgICAgICAgICAgICAgIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiAvPiAgICAgICAgPC9jaXJjbGU+ICAgICAgICA8Y2lyY2xlIGN4PSIyMiIgY3k9IjIyIiByPSIxIj4gICAgICAgICAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJyIiAgICAgICAgICAgICAgICBiZWdpbj0iLTAuOXMiIGR1cj0iMS44cyIgICAgICAgICAgICAgICAgdmFsdWVzPSIxOyAyMCIgICAgICAgICAgICAgICAgY2FsY01vZGU9InNwbGluZSIgICAgICAgICAgICAgICAga2V5VGltZXM9IjA7IDEiICAgICAgICAgICAgICAgIGtleVNwbGluZXM9IjAuMTY1LCAwLjg0LCAwLjQ0LCAxIiAgICAgICAgICAgICAgICByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgLz4gICAgICAgICAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJzdHJva2Utb3BhY2l0eSIgICAgICAgICAgICAgICAgYmVnaW49Ii0wLjlzIiBkdXI9IjEuOHMiICAgICAgICAgICAgICAgIHZhbHVlcz0iMTsgMCIgICAgICAgICAgICAgICAgY2FsY01vZGU9InNwbGluZSIgICAgICAgICAgICAgICAga2V5VGltZXM9IjA7IDEiICAgICAgICAgICAgICAgIGtleVNwbGluZXM9IjAuMywgMC42MSwgMC4zNTUsIDEiICAgICAgICAgICAgICAgIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiAvPiAgICAgICAgPC9jaXJjbGU+ICAgIDwvZz48L3N2Zz4=');
  background-repeat: no-repeat;
  background-size: rem(50px);
  background-position: center;
  border-bottom: rem(1px) solid gainsboro;
  min-height: rem(400px);
  transition: $default-transition;

  // gmaps
  #map-info {
    font-family: $pt-sans-regular;
  }
  #map-info-title {
    font-size: rem(22px);
  }

  // Responsiveness
  @include mq('sm') {

    min-height: rem(550px);
  }

  @include mq('md') {

    min-height: rem(700px);
  }

}

.contact-form {

  margin-bottom: rem(80px);

  .title {

    font-size: rem(45px);
    margin-bottom: 0;

    +.text {
      margin-bottom: rem(30px);
    }
  }

  form {
    @include clearfix;
  }

  // errors container block
  .fields-errors {

    color: $secondary-color;
    font-size: rem(20px);
    margin: rem(20px) 0;
    padding: 0;
    transition: $default-transition;

    ul {padding-left: rem(20px);}
    .required {

      animation-fill-mode: forwards;
      color: $danger-color;
      list-style-type: disc;
      margin: rem(10px) 0 0;
    }

    .icon {

      display: inline-block;
      fill: $secondary-color;
      height: rem(30px);
      margin-right: rem(20px);
      position: relative;
      top: -0.1rem;
      vertical-align: middle;
      width: rem(30px);
    }
  }
  //form fields container
  .form-block {

    padding: 0;
    transition: $default-transition;

    //common
    input[type="text"],
    input[type="email"],
    input[type="url"],
    input[type="number"],
    input[type="password"],
    textarea {

      background: lighten($secondary-color, 10%);
      background-position: 0 0;
      border: rem(1px) solid $secondary-color;
      color: $primary-color;
      padding: rem(10px) rem(20px);
      transition: background, border, color $animation-duration $animation-function;
      width: 100%;

      &:focus {
        color: $white;
      }

      //validation
      &:required,
      // &.user-email:valid,
      // &.user-email:invalid,
      &.validated,
      &.error {

        border-style: solid;
        border-width: rem(1px);
        color: $white;
        background-size: rem(25px);
        background-repeat: no-repeat;
        background-position: 97% 50%;
        padding-right: rem(40px);
      }

      // valid
      // &.user-email:required,
      &:required {
        background-color: lighten($secondary-color, 10%);

        &:-webkit-autofill{
          -webkit-box-shadow: 0 0 0px 1000px lighten($secondary-color, 10%) inset;
        }
      }
      // invalid
      // &.user-email:invalid,
      &.error {
        background-color: $danger-color;
        border-color: darken($danger-color, 10%);

        //Added !important to disable chrome autofill style; i lost this fight...so I FIGHT BACK!
        &:-webkit-autofill{
          background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNTciIGhlaWdodD0iMzU3IiB2aWV3Qm94PSIwIDAgMzU3IDM1NyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTM1NyAzNS43TDMyMS4zIDAgMTc4LjUgMTQyLjggMzUuNyAwIDAgMzUuN2wxNDIuOCAxNDIuOEwwIDMyMS4zIDM1LjcgMzU3bDE0Mi44LTE0Mi44TDMyMS4zIDM1N2wzNS43LTM1LjctMTQyLjgtMTQyLjgiLz48L3N2Zz4=') !important;
          -webkit-box-shadow: 0 0 0px 1000px lighten($secondary-color, 10%) inset;
        }
      }
      // valid
      // &.user-email:valid,
      &.validated {
        background-color: $success-color;
        border-color: darken($success-color, 10%);

        &:-webkit-autofill{
          background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0NDguOCIgaGVpZ2h0PSI0NDguOCIgdmlld0JveD0iMCAwIDQ0OC44IDQ0OC44Ij48cGF0aCBmaWxsPSJ3aGl0ZSIgZD0iTTE0Mi44IDMyMy44NUwzNS43IDIxNi43NSAwIDI1Mi40NWwxNDIuOCAxNDIuOCAzMDYtMzA2LTM1LjctMzUuNyIvPjwvc3ZnPg==') !important;
          -webkit-box-shadow: 0 0 0px 1000px $success-color inset;
        }
      }

      &:-webkit-autofill{
        -webkit-box-shadow: 0 0 0px 1000px lighten($secondary-color, 10%) inset;
      }

      //placeholder
      @include placeholder-color($white);

    }

    // valid state
    // .user-email:valid,
    input.validated,
    textarea.validated {
      background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0NDguOCIgaGVpZ2h0PSI0NDguOCIgdmlld0JveD0iMCAwIDQ0OC44IDQ0OC44Ij48cGF0aCBmaWxsPSJ3aGl0ZSIgZD0iTTE0Mi44IDMyMy44NUwzNS43IDIxNi43NSAwIDI1Mi40NWwxNDIuOCAxNDIuOCAzMDYtMzA2LTM1LjctMzUuNyIvPjwvc3ZnPg==');
    }

    // invalid state
    input.error,
    // .user-email:invalid,
    textarea.error {
      background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNTciIGhlaWdodD0iMzU3IiB2aWV3Qm94PSIwIDAgMzU3IDM1NyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTM1NyAzNS43TDMyMS4zIDAgMTc4LjUgMTQyLjggMzUuNyAwIDAgMzUuN2wxNDIuOCAxNDIuOEwwIDMyMS4zIDM1LjcgMzU3bDE0Mi44LTE0Mi44TDMyMS4zIDM1N2wzNS43LTM1LjctMTQyLjgtMTQyLjgiLz48L3N2Zz4=');
    }

    input[type="text"],
    input[type="email"],
    input[type="url"],
    input[type="number"],
    input[type="submit"],
    input[type="password"],
    textarea {
      margin: rem(10px) 0;
    }

    .b-proof {
      color: $secondary-color;
    }
    // submit button
    .send-mail {
      margin-top: rem(10px);
      padding-left: rem(40px);
      padding-right: rem(40px);
    }
  }

  .contact-form__infos-item {

    @include clearfix;

    .picto {
      color: $primary-color;
      display: block;
      float: left;
      font-family: $pt-sans-bold;
      margin-bottom: rem(20px);
    }

    .icon {
      float: left;
      fill: $secondary-color;
      height: rem(30px);
      margin-right: rem(20px);
      position: relative;
      top: -0.1rem;
      vertical-align: middle;
      width: rem(30px);
    }

  }

  // Responsiveness
  @include mq(400px) {

    .contact-form__infos-item {

      .icon {
        float: none;
      }

    }
  }

  @include mq(550px) {

    .form-block {

      //common
      input[type="text"],
      input[type="email"],
      input[type="url"],
      input[type="number"],
      input[type="password"] {

        float: left;
        width: 48%;

        &:last-child {
          float: right;
        }
        &.boot-proof {float: none;} // no need to change its position

      }

    }
  }

  @include mq('sm') {

    .title {
      font-size: rem(60px);

      +.text {
        margin-bottom: rem(30px);
      }
    }

    .contact-form__infos-item {

      .icon {
        height: rem(45px);
        width: rem(45px);
      }
    }

  }

}

.msg-notif {

  @include parent-element-vertical-align;
  background: $primary-color;
  border-bottom: rem(1px) solid $white;
  color: $white;
  font-size: 22px;
  padding: rem(10px);
  position: fixed;
  transition: $default-transition;
  text-align: center;
  top: 0;
  width: 100%;
  z-index: 5;

  &.error {
    background: $danger-color;
  }

  &.success {
    background: $success-color;
  }

  .close {

    @include vertical-align;
    cursor: pointer;
    display: block;
    padding: rem(10px);
    position: absolute;
    right: 10px;

    .icon {
      height: rem(20px);
      fill: $white;
      width: rem(20px);
    }
  }
}

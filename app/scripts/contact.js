/*! alamaison - v1.0.0 - 2015-07-05 */function initialize(){var a=document.getElementById("map-address"),b=new google.maps.LatLng(47.4584559,-.269955),c={center:b,zoom:16,draggable:!0,animation:google.maps.Animation.DROP,panControl:!1,zoomControl:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.LARGE},scaleControl:!0},d=new google.maps.Map(a,c),e=new google.maps.Marker({animation:google.maps.Animation.DROP,position:c.center,map:d,title:"A La Maison Du Bonheur"});google.maps.event.trigger(d,"resize"),google.maps.event.addListener(a,"resize",function(){window.setTimeout(function(){d.panTo(e.getPosition())},1e3)});var f='<div id="map-info"><div id="siteNotice"></div><h1 id="map-info-title">La Maison du Bonheur</h1><div id="map-info-content"><p>Bienvenue Ã  La Maison du Bonheur,<br>Bienvenu chez vous. </p></div></div>',g=new google.maps.InfoWindow({content:f});google.maps.event.addListener(e,"click",function(){g.open(d,e)}),g.open(d,e)}if(function(a,b,c,d,e){function f(b,c){if(c){var d=c.getAttribute("viewBox"),e=a.createDocumentFragment(),f=c.cloneNode(!0);for(d&&b.setAttribute("viewBox",d);f.childNodes.length;)e.appendChild(f.childNodes[0]);b.appendChild(e)}}function g(){var b=this,c=a.createElement("x"),d=b.s;c.innerHTML=b.responseText,b.onload=function(){d.splice(0).map(function(a){f(a[0],c.querySelector("#"+a[1].replace(/(\W)/g,"\\$1")))})},b.onload()}function h(){for(var e;e=b[0];){var i=e.parentNode,j=e.getAttribute("xlink:href").split("#"),k=j[0],l=j[1];if(i.removeChild(e),k.length){var m=d[k]=d[k]||new XMLHttpRequest;m.s||(m.s=[],m.open("GET",k),m.onload=g,m.send()),m.s.push([i,l]),4===m.readyState&&m.onload()}else f(i,a.getElementById(l))}c(h)}e&&h()}(document,document.getElementsByTagName("use"),window.requestAnimationFrame||window.setTimeout,{},/Trident\/[567]\b/.test(navigator.userAgent)),document.addEventListener("DOMContentLoaded",function(a){function b(a,b,c,d,e){a.addEventListener("change",function(){a.value.match(c)?(d===!0&&(a.classList.remove("error"),o=[]),a.classList.add("validated")):(d===!0&&(a.classList.add("error"),-1==o.indexOf(""+b)&&o.push(b+"-error")),a.classList.remove("validated"))})}function c(a,b){for(var c=b.length>0?!0:!1,d=a.getElementsByTagName("input"),e=0;e<d.length;e++)switch(c&&d[e].classList.contains(""+b)&&d[e].classList.remove(""+b),d[e].type){case"text":case"email":case"number":d[e].value="";break;case"radio":case"checkbox":d[e].checked=!1}for(var f=a.getElementsByTagName("select"),e=0;e<f.length;e++)f[e].selectedIndex=0,f[e].classList.contains(""+b)&&f[e].classList.remove(""+b);for(var g=a.getElementsByTagName("textarea"),e=0;e<g.length;e++)g[e].classList.contains(""+b)&&g[e].classList.remove(""+b),g[e].value="";return!1}google.maps.event.addDomListener(window,"load",initialize);var d=document.getElementById("contact-form"),e=document.getElementById("user-name"),f=document.getElementById("user-first-name"),g=document.getElementById("user-subject"),h="[a-zA-Z][a-zA-Z0-9-_.]{2,20}",i=document.getElementById("user-email"),j=document.getElementById("user-text-message"),k=document.getElementById("boot-proof"),l=Math.floor(10*Math.random(1,5)),m=Math.floor(10*Math.random(1,5)),n=l+m;k.placeholder=l+" + "+m+" = ?";var o=[];k.addEventListener("blur",function(a){k.value!=n?(k.classList.add("error"),k.classList.remove("validated"),-1==o.indexOf("user-botProof-error")&&o.push("user-botProof-error"),k.value=""):(k.classList.remove("error"),k.classList.add("validated"),o=[])}),j.addEventListener("blur",function(a){0==j.value.length?(j.classList.add("error"),j.placeholder="Merci de ne pas laisser ce champ vide.",-1==o.indexOf("user-text-message")&&o.push("user-text-message")):(j.placeholder="",j.classList.remove("error"),j.classList.add("validated"),o=[])}),b(e,"user-name",h,!0,!1),b(f,"user-first-name",h,!0,!1),b(g,"user-subject",h,!0,!1),b(i,"user-email",h,!0,!1),d.addEventListener("submit",function(a){if(a.preventDefault(),o.length)return!1;var b=new FormData(this),e=new XMLHttpRequest;return e.open("POST","handle-mail.php",!0),e.onreadystatechange=function(){if(4==e.readyState&&200==e.status){var a=document.querySelector(".msg-notif"),b=JSON.parse(e.responseText);a.classList.contains("hidden")&&a.classList.remove("hidden"),b.status?(a.classList.contains("error")&&a.classList.remove("error"),a.querySelector(".text").innerHTML=b.message,a.classList.add("success","animated"),c(d,"validated")):(a.classList.contains("success")&&a.classList.remove("success"),a.querySelector(".text").innerHTML=b.message,a.classList.add("error","animated")),a.querySelector(".close").addEventListener("click",function(b){b.preventDefault(),a.classList.add("fadeOutBig","animated"),a.classList.add("hidden")})}},e.send(b),!1})}),navigator.userAgent.match(/IEMobile\/10\.0/)){var msViewportStyle=document.createElement("style");msViewportStyle.appendChild(document.createTextNode("@-ms-viewport{width:auto!important}")),document.querySelector("head").appendChild(msViewportStyle)}document.addEventListener("DOMContentLoaded",function(){document.addEventListener("animationend",function(a){var b=a;b.target.classList.remove("animated")}),document.addEventListener("webkitAnimationEnd",function(a){var b=a;b.target.classList.remove("animated")})});